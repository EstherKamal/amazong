<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Gift Site ‚Äî Music</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 30px; }
    .player { display:flex; gap:10px; align-items:center; }
    .progress { width:300px; }
    button { padding:8px 12px; cursor:pointer; }
    .time { width:70px; font-size:0.9rem; }
  </style>
</head>
<body>
  <h1>For you üéÅ</h1>

  <div class="player">
    <button id="playBtn">Play</button>
    <input type="range" id="progress" class="progress" value="0" min="0" max="100">
    <span class="time" id="time">0:00 / 0:00</span>
    <input id="volume" type="range" min="0" max="1" step="0.01" value="0.8" title="Volume">
    <label><input id="loop" type="checkbox"> Loop</label>
  </div>

  <!-- Hidden audio element -->
  <audio id="audio" src="song.mp3" preload="metadata"></audio>

  <script>
    const audio = document.getElementById('audio');
    const playBtn = document.getElementById('playBtn');
    const progress = document.getElementById('progress');
    const time = document.getElementById('time');
    const volume = document.getElementById('volume');
    const loop = document.getElementById('loop');

    // format seconds -> M:SS
    function fmt(s) {
      if (isNaN(s)) return '0:00';
      const m = Math.floor(s / 60);
      const sec = Math.floor(s % 60).toString().padStart(2,'0');
      return `${m}:${sec}`;
    }

    audio.addEventListener('loadedmetadata', () => {
      progress.max = Math.floor(audio.duration);
      time.textContent = `${fmt(0)} / ${fmt(audio.duration)}`;
    });

    // play/pause toggle
    playBtn.addEventListener('click', () => {
      if (audio.paused) { audio.play(); playBtn.textContent = 'Pause'; }
      else { audio.pause(); playBtn.textContent = 'Play'; }
    });

    // update progress as song plays
    audio.addEventListener('timeupdate', () => {
      progress.value = Math.floor(audio.currentTime);
      time.textContent = `${fmt(audio.currentTime)} / ${fmt(audio.duration)}`;
    });

    // seek when slider moved
    progress.addEventListener('input', () => {
      audio.currentTime = progress.value;
    });

    // volume control
    volume.addEventListener('input', () => {
      audio.volume = volume.value;
    });

    // loop toggle
    loop.addEventListener('change', () => {
      audio.loop = loop.checked;
    });

    // make sure button shows correct state when audio ends
    audio.addEventListener('ended', () => {
      playBtn.textContent = 'Play';
    });
  </script>
</body>
</html>
